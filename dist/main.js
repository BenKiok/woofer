(()=>{"use strict";const e=e=>{let t;return!("object"!=typeof e||!e||(e.time=(new Date).getTime(),t=firebase.database().ref("/Woofs/").push(e).key,e.id=t,firebase.database().ref("/Woofs/"+t).update(e),0))},t=(e,t)=>{e.ref("/Woofs/").once("value",(e=>{t(e.val())}))},n=(()=>{const e=document.createElement("div"),t=document.createElement("span");for(let t=0;t<9;t++)e.appendChild(document.createElement("span"));return t.classList.add("avatar"),e.id="menu",e.appendChild(t),e})(),a=(()=>{const e=document.createElement("div"),t=document.createElement("h1");return e.id="head",e.classList.add("border"),t.innerText="Home",e.appendChild(t),e})(),d=(()=>{const e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div"),a=document.createElement("span"),d=document.createElement("div"),c=document.createElement("input"),o=document.createElement("div"),s=document.createElement("button"),r=document.createElement("div");e.id="timeline",t.id="main",t.classList.add("border"),n.classList.add("woof"),a.classList.add("avatar"),d.classList.add("content"),c.type="text",c.placeholder="What's happening?",c.classList.add("text"),c.id="input",o.classList.add("more"),s.innerText="Woof",r.classList.add("break");for(let e=0;e<5;e++)o.appendChild(document.createElement("span"));return o.appendChild(s),d.append(c,o),n.append(a,d),t.append(n,r),e.appendChild(t),e})();(()=>{const c=document.querySelector("#app");function o(e){let t,n=[];for(const t in e)n.push(e[t]);t=n.length-1,s(n,t)}function s(e,t){const n=document.createElement("div"),a=document.createElement("span"),c=document.createElement("div"),o=document.createElement("div"),s=document.createElement("h4"),r=document.createElement("h3"),i=document.createElement("div");n.classList.add("woof","border"),a.classList.add("avatar"),c.classList.add("content"),o.classList.add("text"),i.classList.add("interact");for(let e=0;e<4;e++)i.appendChild(document.createElement("span"));i.childNodes[0].innerText=e[t].fav,i.childNodes[1].innerText=e[t].rewoof,i.childNodes[2].innerText="^",i.childNodes[3].innerText="^",s.innerText=`${new Date(e[t].time)}`.slice(4,15),r.innerText=e[t].text,o.append(s,r),c.append(o,i),n.append(a,c),d.insertBefore(n,d.querySelector(".woof.border"))}t(firebase.database(),(function(e){for(const t in e)s(e,t)})),window.addEventListener("resize",(()=>{n.style.left=d.offsetLeft-72+"px"})),d.querySelector("button").addEventListener("click",(()=>{const n=d.querySelector("#input");if(n.value.length>0){const a={text:n.value,fav:0,rewoof:0};e(a)?(n.value="",t(firebase.database(),o)):alert("Unable to send woof. Try again in a few seconds.")}})),d.insertBefore(a,d.querySelector("#main")),c.append(n,d),n.style.left=d.offsetLeft-72+"px"})()})();